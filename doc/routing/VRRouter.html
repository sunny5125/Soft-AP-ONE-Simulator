<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_74) on Tue Jun 14 22:03:27 IST 2016 -->
<title>VRRouter</title>
<meta name="date" content="2016-06-14">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="VRRouter";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":9,"i9":9,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../routing/SprayAndWaitRouter.html" title="class in routing"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../routing/VRRouter.NeighborEntry.html" title="class in routing"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?routing/VRRouter.html" target="_top">Frames</a></li>
<li><a href="VRRouter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">routing</div>
<h2 title="Class VRRouter" class="title">Class VRRouter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../routing/MessageRouter.html" title="class in routing">routing.MessageRouter</a></li>
<li>
<ul class="inheritance">
<li><a href="../routing/ActiveRouter.html" title="class in routing">routing.ActiveRouter</a></li>
<li>
<ul class="inheritance">
<li>routing.VRRouter</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">VRRouter</span>
extends <a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></pre>
<div class="block">Implementation of the Virtual Repository routing protocol. VR routing makes
 forwarding decisions based on the geographic location of nodes, meaning it
 needs to get the geographic location of each node. This is done in two ways.
 The router maintains a list of nodes to which it is currently connected and
 their locations. For all other nodes, it uses the node's ID as input to two
 hash functions that determine x and y coordinates for the node, which we call
 the virtual repository for the node. Thus, in all cases, the router has a set
 of coordinates to which to send the given message.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.NeighborEntry.html" title="class in routing">VRRouter.NeighborEntry</a></span></code>
<div class="block">Entry for the neighborhood map.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#CHECKIN_NAME">CHECKIN_NAME</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#checkInInterval">checkInInterval</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#checkInSeqNum">checkInSeqNum</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#checkInTTL">checkInTTL</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#defaultCheckInInterval">defaultCheckInInterval</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#defaultExpirationInterval">defaultExpirationInterval</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#defaultVrRadius">defaultVrRadius</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#finishedMessages">finishedMessages</a></span></code>
<div class="block">Stores the IDs of messages that have been delivered to their final 
 destination, which is not necessarily this host.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#MAX_VR_AREA_S">MAX_VR_AREA_S</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#maxVrX">maxVrX</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#maxVrY">maxVrY</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#MESSAGE_CHECKIN_SEQNUM_P">MESSAGE_CHECKIN_SEQNUM_P</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#MESSAGE_FOCUS_P">MESSAGE_FOCUS_P</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#MESSAGE_HOME_LOC_P">MESSAGE_HOME_LOC_P</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#MESSAGE_IS_CHECKIN_P">MESSAGE_IS_CHECKIN_P</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#MESSAGE_LOOK_P">MESSAGE_LOOK_P</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#MESSAGE_LOOK_TIMEOUT_P">MESSAGE_LOOK_TIMEOUT_P</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#NEIGHBOREXP_NAME">NEIGHBOREXP_NAME</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#neighborExpirationInterval">neighborExpirationInterval</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.Map&lt;<a href="../core/DTNHost.html" title="class in core">DTNHost</a>,<a href="../routing/VRRouter.NeighborEntry.html" title="class in routing">VRRouter.NeighborEntry</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#neighborhood">neighborhood</a></span></code>
<div class="block">Stores the location of all currently connected neighbors.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#nextCheckInTime">nextCheckInTime</a></span></code>
<div class="block">The time at which another check-in message should be generated.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#RADIUS_NAME">RADIUS_NAME</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#VR_ORIGIN_S">VR_ORIGIN_S</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#vrOriginX">vrOriginX</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#vrOriginY">vrOriginY</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#vrRadius">vrRadius</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#VRROUTER_NS">VRROUTER_NS</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.routing.ActiveRouter">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;routing.<a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></h3>
<code><a href="../routing/ActiveRouter.html#DELETE_DELIVERED_S">DELETE_DELIVERED_S</a>, <a href="../routing/ActiveRouter.html#deleteDelivered">deleteDelivered</a>, <a href="../routing/ActiveRouter.html#RESPONSE_PREFIX">RESPONSE_PREFIX</a>, <a href="../routing/ActiveRouter.html#sendingConnections">sendingConnections</a>, <a href="../routing/ActiveRouter.html#TTL_CHECK_INTERVAL">TTL_CHECK_INTERVAL</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.routing.MessageRouter">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;routing.<a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a></h3>
<code><a href="../routing/MessageRouter.html#B_SIZE_S">B_SIZE_S</a>, <a href="../routing/MessageRouter.html#deliveredMessages">deliveredMessages</a>, <a href="../routing/MessageRouter.html#DENIED_ALREADY_IN_VR">DENIED_ALREADY_IN_VR</a>, <a href="../routing/MessageRouter.html#DENIED_CHECKIN">DENIED_CHECKIN</a>, <a href="../routing/MessageRouter.html#DENIED_DELIVERED">DENIED_DELIVERED</a>, <a href="../routing/MessageRouter.html#DENIED_NO_SPACE">DENIED_NO_SPACE</a>, <a href="../routing/MessageRouter.html#DENIED_OLD">DENIED_OLD</a>, <a href="../routing/MessageRouter.html#DENIED_TTL">DENIED_TTL</a>, <a href="../routing/MessageRouter.html#DENIED_UNSPECIFIED">DENIED_UNSPECIFIED</a>, <a href="../routing/MessageRouter.html#mListeners">mListeners</a>, <a href="../routing/MessageRouter.html#MSG_TTL_S">MSG_TTL_S</a>, <a href="../routing/MessageRouter.html#msgTtl">msgTtl</a>, <a href="../routing/MessageRouter.html#Q_MODE_FIFO">Q_MODE_FIFO</a>, <a href="../routing/MessageRouter.html#Q_MODE_RANDOM">Q_MODE_RANDOM</a>, <a href="../routing/MessageRouter.html#RCV_OK">RCV_OK</a>, <a href="../routing/MessageRouter.html#SEND_QUEUE_MODE_S">SEND_QUEUE_MODE_S</a>, <a href="../routing/MessageRouter.html#TRY_LATER_BUSY">TRY_LATER_BUSY</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#VRRouter-core.Settings-">VRRouter</a></span>(<a href="../core/Settings.html" title="class in core">Settings</a>&nbsp;s)</code>
<div class="block">Creates an instance of the Virtual Repository Router</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#VRRouter-routing.VRRouter-">VRRouter</a></span>(<a href="../routing/VRRouter.html" title="class in routing">VRRouter</a>&nbsp;vr)</code>
<div class="block">Copy Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#ackMessage-core.Message-core.DTNHost-">ackMessage</a></span>(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;vrm,
          <a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;from)</code>
<div class="block">Called by a peer node when a message is sent from here to the node.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#createCheckInMessage--">createCheckInMessage</a></span>()</code>
<div class="block">Adds a new check-in message to this host's buffer.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#createNewMessage-core.Message-">createNewMessage</a></span>(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m)</code>
<div class="block">Creates a new message to the router.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#doLook-core.Message-core.Coord-double-">doLook</a></span>(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m,
      <a href="../core/Coord.html" title="class in core">Coord</a>&nbsp;toLoc,
      double&nbsp;locationTime)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#expireLook-core.Message-double-">expireLook</a></span>(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m,
          double&nbsp;timeNow)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected <a href="../core/Coord.html" title="class in core">Coord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#getCheckInLocation-core.Message-">getCheckInLocation</a></span>(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#getCheckInSequenceNumber-core.Message-">getCheckInSequenceNumber</a></span>(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected <a href="../core/Coord.html" title="class in core">Coord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#getFocus-core.Message-">getFocus</a></span>(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#getVRRadius--">getVRRadius</a></span>()</code>
<div class="block">Helper to drawn the VRs in the GUI.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static <a href="../core/Coord.html" title="class in core">Coord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#hash-core.DTNHost-">hash</a></span>(<a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;node)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#init--">init</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#isCheckInMessage-core.Message-">isCheckInMessage</a></span>(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#isLooking-core.Message-">isLooking</a></span>(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m)</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../core/Message.html" title="class in core">Message</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#messageTransferred-java.lang.String-core.DTNHost-">messageTransferred</a></span>(java.lang.String&nbsp;id,
                  <a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;from)</code>
<div class="block">This method should be called (on the receiving host) after a message
 was successfully transferred.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#receiveMessage-core.Message-core.DTNHost-">receiveMessage</a></span>(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m,
              <a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;from)</code>
<div class="block">Try to start receiving a message from another host.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#removeOldCheckInMsgs-core.Message-">removeOldCheckInMsgs</a></span>(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;newCheckin)</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#replicate--">replicate</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#startTransfer-core.Message-core.Connection-">startTransfer</a></span>(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m,
             <a href="../core/Connection.html" title="class in core">Connection</a>&nbsp;con)</code>
<div class="block">Called when this router is trying to send a message over the given 
 connection to its peer.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../routing/VRRouter.html#update--">update</a></span>()</code>
<div class="block">Checks out all sending connections to finalize the ready ones 
 and abort those whose connection went down.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.routing.ActiveRouter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;routing.<a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></h3>
<code><a href="../routing/ActiveRouter.html#addToSendingConnections-core.Connection-">addToSendingConnections</a>, <a href="../routing/ActiveRouter.html#canStartTransfer--">canStartTransfer</a>, <a href="../routing/ActiveRouter.html#changedConnection-core.Connection-">changedConnection</a>, <a href="../routing/ActiveRouter.html#checkReceiving-core.Message-">checkReceiving</a>, <a href="../routing/ActiveRouter.html#connectionDown-core.Connection-">connectionDown</a>, <a href="../routing/ActiveRouter.html#connectionUp-core.Connection-">connectionUp</a>, <a href="../routing/ActiveRouter.html#dropExpiredMessages--">dropExpiredMessages</a>, <a href="../routing/ActiveRouter.html#exchangeDeliverableMessages--">exchangeDeliverableMessages</a>, <a href="../routing/ActiveRouter.html#getConnectionCount--">getConnectionCount</a>, <a href="../routing/ActiveRouter.html#getMessagesForConnected--">getMessagesForConnected</a>, <a href="../routing/ActiveRouter.html#getOldestMessage-boolean-">getOldestMessage</a>, <a href="../routing/ActiveRouter.html#initialize-core.DTNHost-java.util.List-">initialize</a>, <a href="../routing/ActiveRouter.html#isSending-java.lang.String-">isSending</a>, <a href="../routing/ActiveRouter.html#isTransferring--">isTransferring</a>, <a href="../routing/ActiveRouter.html#makeRoomForMessage-int-">makeRoomForMessage</a>, <a href="../routing/ActiveRouter.html#makeRoomForNewMessage-int-">makeRoomForNewMessage</a>, <a href="../routing/ActiveRouter.html#requestDeliverableMessages-core.Connection-">requestDeliverableMessages</a>, <a href="../routing/ActiveRouter.html#shuffleMessages-java.util.List-">shuffleMessages</a>, <a href="../routing/ActiveRouter.html#transferAborted-core.Connection-">transferAborted</a>, <a href="../routing/ActiveRouter.html#transferDone-core.Connection-">transferDone</a>, <a href="../routing/ActiveRouter.html#tryAllMessages-core.Connection-java.util.List-">tryAllMessages</a>, <a href="../routing/ActiveRouter.html#tryAllMessagesToAllConnections--">tryAllMessagesToAllConnections</a>, <a href="../routing/ActiveRouter.html#tryMessagesForConnected-java.util.List-">tryMessagesForConnected</a>, <a href="../routing/ActiveRouter.html#tryMessagesToAllConnections-java.util.List-">tryMessagesToAllConnections</a>, <a href="../routing/ActiveRouter.html#tryMessagesToConnections-java.util.List-java.util.List-">tryMessagesToConnections</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.routing.MessageRouter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;routing.<a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a></h3>
<code><a href="../routing/MessageRouter.html#addApplication-core.Application-">addApplication</a>, <a href="../routing/MessageRouter.html#addToMessages-core.Message-boolean-">addToMessages</a>, <a href="../routing/MessageRouter.html#compareByQueueMode-core.Message-core.Message-">compareByQueueMode</a>, <a href="../routing/MessageRouter.html#deleteMessage-java.lang.String-boolean-">deleteMessage</a>, <a href="../routing/MessageRouter.html#getApplications-java.lang.String-">getApplications</a>, <a href="../routing/MessageRouter.html#getBufferSize--">getBufferSize</a>, <a href="../routing/MessageRouter.html#getFreeBufferSize--">getFreeBufferSize</a>, <a href="../routing/MessageRouter.html#getHost--">getHost</a>, <a href="../routing/MessageRouter.html#getMessage-java.lang.String-">getMessage</a>, <a href="../routing/MessageRouter.html#getMessageCollection--">getMessageCollection</a>, <a href="../routing/MessageRouter.html#getNrofMessages--">getNrofMessages</a>, <a href="../routing/MessageRouter.html#getRoutingInfo--">getRoutingInfo</a>, <a href="../routing/MessageRouter.html#hasMessage-java.lang.String-">hasMessage</a>, <a href="../routing/MessageRouter.html#isDeliveredMessage-core.Message-">isDeliveredMessage</a>, <a href="../routing/MessageRouter.html#isIncomingMessage-java.lang.String-">isIncomingMessage</a>, <a href="../routing/MessageRouter.html#messageAborted-java.lang.String-core.DTNHost-int-">messageAborted</a>, <a href="../routing/MessageRouter.html#putToIncomingBuffer-core.Message-core.DTNHost-">putToIncomingBuffer</a>, <a href="../routing/MessageRouter.html#removeFromIncomingBuffer-java.lang.String-core.DTNHost-">removeFromIncomingBuffer</a>, <a href="../routing/MessageRouter.html#removeFromMessages-java.lang.String-">removeFromMessages</a>, <a href="../routing/MessageRouter.html#sendMessage-java.lang.String-core.DTNHost-">sendMessage</a>, <a href="../routing/MessageRouter.html#sortByQueueMode-java.util.List-">sortByQueueMode</a>, <a href="../routing/MessageRouter.html#toString--">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="VRROUTER_NS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VRROUTER_NS</h4>
<pre>public static final&nbsp;java.lang.String VRROUTER_NS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.VRROUTER_NS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CHECKIN_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHECKIN_NAME</h4>
<pre>public static final&nbsp;java.lang.String CHECKIN_NAME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.CHECKIN_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RADIUS_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RADIUS_NAME</h4>
<pre>public static final&nbsp;java.lang.String RADIUS_NAME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.RADIUS_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NEIGHBOREXP_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NEIGHBOREXP_NAME</h4>
<pre>public static final&nbsp;java.lang.String NEIGHBOREXP_NAME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.NEIGHBOREXP_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_VR_AREA_S">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_VR_AREA_S</h4>
<pre>public static final&nbsp;java.lang.String MAX_VR_AREA_S</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.MAX_VR_AREA_S">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="VR_ORIGIN_S">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VR_ORIGIN_S</h4>
<pre>public static final&nbsp;java.lang.String VR_ORIGIN_S</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.VR_ORIGIN_S">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MESSAGE_CHECKIN_SEQNUM_P">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MESSAGE_CHECKIN_SEQNUM_P</h4>
<pre>public static final&nbsp;java.lang.String MESSAGE_CHECKIN_SEQNUM_P</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.MESSAGE_CHECKIN_SEQNUM_P">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MESSAGE_FOCUS_P">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MESSAGE_FOCUS_P</h4>
<pre>public static final&nbsp;java.lang.String MESSAGE_FOCUS_P</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.MESSAGE_FOCUS_P">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MESSAGE_IS_CHECKIN_P">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MESSAGE_IS_CHECKIN_P</h4>
<pre>public static final&nbsp;java.lang.String MESSAGE_IS_CHECKIN_P</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.MESSAGE_IS_CHECKIN_P">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MESSAGE_HOME_LOC_P">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MESSAGE_HOME_LOC_P</h4>
<pre>public static final&nbsp;java.lang.String MESSAGE_HOME_LOC_P</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.MESSAGE_HOME_LOC_P">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MESSAGE_LOOK_P">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MESSAGE_LOOK_P</h4>
<pre>public static final&nbsp;java.lang.String MESSAGE_LOOK_P</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.MESSAGE_LOOK_P">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MESSAGE_LOOK_TIMEOUT_P">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MESSAGE_LOOK_TIMEOUT_P</h4>
<pre>public static final&nbsp;java.lang.String MESSAGE_LOOK_TIMEOUT_P</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.MESSAGE_LOOK_TIMEOUT_P">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="defaultCheckInInterval">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defaultCheckInInterval</h4>
<pre>public static final&nbsp;int defaultCheckInInterval</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.defaultCheckInInterval">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="defaultVrRadius">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defaultVrRadius</h4>
<pre>public static final&nbsp;double defaultVrRadius</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.defaultVrRadius">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="defaultExpirationInterval">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defaultExpirationInterval</h4>
<pre>public static final&nbsp;int defaultExpirationInterval</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#routing.VRRouter.defaultExpirationInterval">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="maxVrX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxVrX</h4>
<pre>protected static&nbsp;int maxVrX</pre>
</li>
</ul>
<a name="maxVrY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxVrY</h4>
<pre>protected static&nbsp;int maxVrY</pre>
</li>
</ul>
<a name="vrOriginX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vrOriginX</h4>
<pre>protected static&nbsp;int vrOriginX</pre>
</li>
</ul>
<a name="vrOriginY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vrOriginY</h4>
<pre>protected static&nbsp;int vrOriginY</pre>
</li>
</ul>
<a name="checkInInterval">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkInInterval</h4>
<pre>protected static&nbsp;int checkInInterval</pre>
</li>
</ul>
<a name="checkInTTL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkInTTL</h4>
<pre>protected static&nbsp;int checkInTTL</pre>
</li>
</ul>
<a name="vrRadius">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vrRadius</h4>
<pre>protected static&nbsp;double vrRadius</pre>
</li>
</ul>
<a name="neighborExpirationInterval">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>neighborExpirationInterval</h4>
<pre>protected static&nbsp;int neighborExpirationInterval</pre>
</li>
</ul>
<a name="neighborhood">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>neighborhood</h4>
<pre>protected&nbsp;java.util.Map&lt;<a href="../core/DTNHost.html" title="class in core">DTNHost</a>,<a href="../routing/VRRouter.NeighborEntry.html" title="class in routing">VRRouter.NeighborEntry</a>&gt; neighborhood</pre>
<div class="block">Stores the location of all currently connected neighbors. If any entry 
 exists here, then the actual location of a destination is known and any
 data messages should be forwarded towards this location. Check-in messages
 should, however, always be directed towards the destination's VR.</div>
</li>
</ul>
<a name="finishedMessages">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishedMessages</h4>
<pre>protected&nbsp;java.util.Set&lt;java.lang.String&gt; finishedMessages</pre>
<div class="block">Stores the IDs of messages that have been delivered to their final 
 destination, which is not necessarily this host. This info is used to
 inform nodes of a message's completion. Thus, if a node is carrying one of 
 these messages and it tries to send to a neighbor, it will be informed that
 the message has already been delivered and it can be deleted from the
 buffer.</div>
</li>
</ul>
<a name="nextCheckInTime">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextCheckInTime</h4>
<pre>protected&nbsp;double nextCheckInTime</pre>
<div class="block">The time at which another check-in message should be generated.</div>
</li>
</ul>
<a name="checkInSeqNum">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>checkInSeqNum</h4>
<pre>protected&nbsp;long checkInSeqNum</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="VRRouter-core.Settings-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VRRouter</h4>
<pre>public&nbsp;VRRouter(<a href="../core/Settings.html" title="class in core">Settings</a>&nbsp;s)</pre>
<div class="block">Creates an instance of the Virtual Repository Router</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - Settings for the router</dd>
</dl>
</li>
</ul>
<a name="VRRouter-routing.VRRouter-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>VRRouter</h4>
<pre>public&nbsp;VRRouter(<a href="../routing/VRRouter.html" title="class in routing">VRRouter</a>&nbsp;vr)</pre>
<div class="block">Copy Constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vr</code> - the prototype from where the Settings are copied</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="hash-core.DTNHost-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hash</h4>
<pre>public static&nbsp;<a href="../core/Coord.html" title="class in core">Coord</a>&nbsp;hash(<a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;node)</pre>
</li>
</ul>
<a name="getVRRadius--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVRRadius</h4>
<pre>public static&nbsp;double&nbsp;getVRRadius()</pre>
<div class="block">Helper to drawn the VRs in the GUI.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>protected&nbsp;void&nbsp;init()</pre>
</li>
</ul>
<a name="createNewMessage-core.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createNewMessage</h4>
<pre>public&nbsp;boolean&nbsp;createNewMessage(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../routing/MessageRouter.html#createNewMessage-core.Message-">MessageRouter</a></code></span></div>
<div class="block">Creates a new message to the router.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../routing/ActiveRouter.html#createNewMessage-core.Message-">createNewMessage</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>m</code> - The message to create</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if the creation succeeded, false if not (e.g.
 the message was too big for the buffer)</dd>
</dl>
</li>
</ul>
<a name="createCheckInMessage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCheckInMessage</h4>
<pre>protected&nbsp;void&nbsp;createCheckInMessage()</pre>
<div class="block">Adds a new check-in message to this host's buffer. The message is directed
 towards the VR for this host. The destination for this message is also set
 to this host, and the checkReceiving() method ensures that no host attempts
 to return the message to this host.</div>
</li>
</ul>
<a name="receiveMessage-core.Message-core.DTNHost-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiveMessage</h4>
<pre>public&nbsp;int&nbsp;receiveMessage(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m,
                          <a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;from)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../routing/MessageRouter.html#receiveMessage-core.Message-core.DTNHost-">MessageRouter</a></code></span></div>
<div class="block">Try to start receiving a message from another host.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../routing/ActiveRouter.html#receiveMessage-core.Message-core.DTNHost-">receiveMessage</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>m</code> - Message to put in the receiving buffer</dd>
<dd><code>from</code> - Who the message is from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Value zero if the node accepted the message (RCV_OK), value less
 than zero if node rejected the message (e.g. DENIED_OLD), value bigger
 than zero if the other node should try later (e.g. TRY_LATER_BUSY).</dd>
</dl>
</li>
</ul>
<a name="startTransfer-core.Message-core.Connection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startTransfer</h4>
<pre>protected&nbsp;int&nbsp;startTransfer(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m,
                            <a href="../core/Connection.html" title="class in core">Connection</a>&nbsp;con)</pre>
<div class="block">Called when this router is trying to send a message over the given 
 connection to its peer.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../routing/ActiveRouter.html#startTransfer-core.Message-core.Connection-">startTransfer</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>m</code> - The message to transfer</dd>
<dd><code>con</code> - The connection to use</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value returned by 
 <a href="../core/Connection.html#startTransfer-core.DTNHost-core.Message-"><code>Connection.startTransfer(DTNHost, Message)</code></a></dd>
</dl>
</li>
</ul>
<a name="messageTransferred-java.lang.String-core.DTNHost-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>messageTransferred</h4>
<pre>public&nbsp;<a href="../core/Message.html" title="class in core">Message</a>&nbsp;messageTransferred(java.lang.String&nbsp;id,
                                  <a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;from)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../routing/MessageRouter.html#messageTransferred-java.lang.String-core.DTNHost-">MessageRouter</a></code></span></div>
<div class="block">This method should be called (on the receiving host) after a message
 was successfully transferred. The transferred message is put to the
 message buffer unless this host is the final recipient of the message.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../routing/ActiveRouter.html#messageTransferred-java.lang.String-core.DTNHost-">messageTransferred</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - Id of the transferred message</dd>
<dd><code>from</code> - Host the message was from (previous hop)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The message that this host received</dd>
</dl>
</li>
</ul>
<a name="ackMessage-core.Message-core.DTNHost-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ackMessage</h4>
<pre>public&nbsp;void&nbsp;ackMessage(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;vrm,
                       <a href="../core/DTNHost.html" title="class in core">DTNHost</a>&nbsp;from)</pre>
<div class="block">Called by a peer node when a message is sent from here to the node. It acts
 as an acknowledgment for the message. The peer passes in a reference to itself
 as the 'from' argument. If the peer is the final destination of the message,
 we can add the message to our list of finished messages. In all cases, when 
 the peer has received the message, we can delete it from our buffer.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../routing/ActiveRouter.html#ackMessage-core.Message-core.DTNHost-">ackMessage</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>vrm</code> - Message being acknowledged</dd>
<dd><code>from</code> - Peer acknowledging the message</dd>
</dl>
</li>
</ul>
<a name="removeOldCheckInMsgs-core.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeOldCheckInMsgs</h4>
<pre>protected&nbsp;boolean&nbsp;removeOldCheckInMsgs(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;newCheckin)</pre>
</li>
</ul>
<a name="getFocus-core.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFocus</h4>
<pre>protected&nbsp;<a href="../core/Coord.html" title="class in core">Coord</a>&nbsp;getFocus(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m)</pre>
</li>
</ul>
<a name="isCheckInMessage-core.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCheckInMessage</h4>
<pre>protected&nbsp;boolean&nbsp;isCheckInMessage(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m)</pre>
</li>
</ul>
<a name="getCheckInLocation-core.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCheckInLocation</h4>
<pre>protected&nbsp;<a href="../core/Coord.html" title="class in core">Coord</a>&nbsp;getCheckInLocation(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m)</pre>
</li>
</ul>
<a name="isLooking-core.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLooking</h4>
<pre>protected&nbsp;boolean&nbsp;isLooking(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m)</pre>
</li>
</ul>
<a name="getCheckInSequenceNumber-core.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCheckInSequenceNumber</h4>
<pre>protected&nbsp;long&nbsp;getCheckInSequenceNumber(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m)</pre>
</li>
</ul>
<a name="doLook-core.Message-core.Coord-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doLook</h4>
<pre>protected&nbsp;void&nbsp;doLook(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m,
                      <a href="../core/Coord.html" title="class in core">Coord</a>&nbsp;toLoc,
                      double&nbsp;locationTime)</pre>
</li>
</ul>
<a name="expireLook-core.Message-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireLook</h4>
<pre>protected&nbsp;void&nbsp;expireLook(<a href="../core/Message.html" title="class in core">Message</a>&nbsp;m,
                          double&nbsp;timeNow)</pre>
</li>
</ul>
<a name="update--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>public&nbsp;void&nbsp;update()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../routing/ActiveRouter.html#update--">ActiveRouter</a></code></span></div>
<div class="block">Checks out all sending connections to finalize the ready ones 
 and abort those whose connection went down. Also drops messages
 whose TTL <= 0 (checking every one simulated minute).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../routing/ActiveRouter.html#update--">update</a></code>&nbsp;in class&nbsp;<code><a href="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../routing/ActiveRouter.html#addToSendingConnections-core.Connection-"><code>ActiveRouter.addToSendingConnections(Connection)</code></a></dd>
</dl>
</li>
</ul>
<a name="replicate--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>replicate</h4>
<pre>public&nbsp;<a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a>&nbsp;replicate()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../routing/MessageRouter.html#replicate--">replicate</a></code>&nbsp;in class&nbsp;<code><a href="../routing/MessageRouter.html" title="class in routing">MessageRouter</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../routing/SprayAndWaitRouter.html" title="class in routing"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../routing/VRRouter.NeighborEntry.html" title="class in routing"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?routing/VRRouter.html" target="_top">Frames</a></li>
<li><a href="VRRouter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
